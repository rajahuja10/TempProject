{
   "roles":{
      "realm":[
         {
            "name":"online_appointment_user",
            "description":"Role to define an online appointment user",
            "composite":false,
            "clientRole":false,
            "containerId":"vtkayq4c",
            "attributes":{

            }
         },
         {
            "name":"internal_user",
            "description":"Role to distinguish the user from public user if using same IDP to login",
            "composite":false,
            "clientRole":false,
            "containerId":"vtkayq4c",
            "attributes":{

            }
         },
         {
            "name":"reminder_job",
            "description":"Role for the reminder job to use",
            "composite":false,
            "clientRole":false,
            "containerId":"vtkayq4c",
            "attributes":{

            }
         }
      ]
   },
   "groups":[
      {
         "name":"theq_internal_user",
         "path":"/theq_internal_user",
         "attributes":{

         },
         "realmRoles":[
            "internal_user"
         ],
         "clientRoles":{

         },
         "subGroups":[

         ]
      }
   ],
   "clients":[
      {
         "clientId":"online-appointment-web",
         "description":"Online Appointment Web",
         "rootUrl":"https://dev-bookanappointment.pathfinder.gov.bc.ca",
         "adminUrl":"/",
         "baseUrl":"/*",
         "surrogateAuthRequired":false,
         "enabled":true,
         "clientAuthenticatorType":"client-secret",
         "redirectUris":[
            "https://dev-bookanappointment.pathfinder.gov.bc.ca/*"
         ],
         "webOrigins":[
            "https://dev-bookanappointment.pathfinder.gov.bc.ca/"
         ],
         "notBefore":0,
         "bearerOnly":false,
         "consentRequired":false,
         "standardFlowEnabled":true,
         "implicitFlowEnabled":false,
         "directAccessGrantsEnabled":true,
         "serviceAccountsEnabled":false,
         "publicClient":false,
         "frontchannelLogout":false,
         "protocol":"openid-connect",
         "attributes":{
            "saml.assertion.signature":"false",
            "saml.multivalued.roles":"false",
            "saml.force.post.binding":"false",
            "saml.encrypt":"false",
            "saml.server.signature":"false",
            "saml.server.signature.keyinfo.ext":"false",
            "exclude.session.state.from.auth.response":"false",
            "saml_force_name_id_format":"false",
            "saml.client.signature":"false",
            "tls.client.certificate.bound.access.tokens":"false",
            "saml.authnstatement":"false",
            "display.on.consent.screen":"false",
            "saml.onetimeuse.condition":"false"
         },
         "authenticationFlowBindingOverrides":{

         },
         "fullScopeAllowed":true,
         "nodeReRegistrationTimeout":-1,
         "protocolMappers":[
            {
               "name":"name",
               "protocol":"openid-connect",
               "protocolMapper":"oidc-usermodel-attribute-mapper",
               "consentRequired":false,
               "config":{
                  "userinfo.token.claim":"false",
                  "user.attribute":"displayName",
                  "id.token.claim":"false",
                  "access.token.claim":"true",
                  "claim.name":"display_name",
                  "jsonType.label":"String"
               }
            },
            {
               "name":"role list",
               "protocol":"saml",
               "protocolMapper":"saml-role-list-mapper",
               "consentRequired":false,
               "config":{
                  "single":"false",
                  "attribute.nameformat":"Basic",
                  "attribute.name":"Role"
               }
            },
            {
               "name":"family name",
               "protocol":"openid-connect",
               "protocolMapper":"oidc-usermodel-property-mapper",
               "consentRequired":false,
               "config":{
                  "userinfo.token.claim":"true",
                  "user.attribute":"lastName",
                  "id.token.claim":"true",
                  "access.token.claim":"true",
                  "claim.name":"family_name",
                  "jsonType.label":"String"
               }
            },
            {
               "name":"username",
               "protocol":"openid-connect",
               "protocolMapper":"oidc-usermodel-property-mapper",
               "consentRequired":false,
               "config":{
                  "userinfo.token.claim":"true",
                  "user.attribute":"username",
                  "id.token.claim":"true",
                  "access.token.claim":"true",
                  "claim.name":"preferred_username",
                  "jsonType.label":"String"
               }
            },
            {
               "name":"full name",
               "protocol":"openid-connect",
               "protocolMapper":"oidc-full-name-mapper",
               "consentRequired":false,
               "config":{
                  "id.token.claim":"true",
                  "access.token.claim":"true"
               }
            },
            {
               "name":"given name",
               "protocol":"openid-connect",
               "protocolMapper":"oidc-usermodel-property-mapper",
               "consentRequired":false,
               "config":{
                  "userinfo.token.claim":"true",
                  "user.attribute":"firstName",
                  "id.token.claim":"true",
                  "access.token.claim":"true",
                  "claim.name":"given_name",
                  "jsonType.label":"String"
               }
            },
            {
               "name":"email",
               "protocol":"openid-connect",
               "protocolMapper":"oidc-usermodel-property-mapper",
               "consentRequired":false,
               "config":{
                  "userinfo.token.claim":"true",
                  "user.attribute":"email",
                  "id.token.claim":"true",
                  "access.token.claim":"true",
                  "claim.name":"email",
                  "jsonType.label":"String"
               }
            }
         ],
         "defaultClientScopes":[
            "web-origins",
            "roles"
         ],
         "optionalClientScopes":[
            "offline_access"
         ]
      },
      {
         "clientId":"appointment-reminder-client",
         "surrogateAuthRequired":false,
         "enabled":true,
         "clientAuthenticatorType":"client-secret",
         "redirectUris":[

         ],
         "webOrigins":[

         ],
         "notBefore":0,
         "bearerOnly":false,
         "consentRequired":false,
         "standardFlowEnabled":false,
         "implicitFlowEnabled":false,
         "directAccessGrantsEnabled":false,
         "serviceAccountsEnabled":true,
         "publicClient":false,
         "frontchannelLogout":false,
         "protocol":"openid-connect",
         "attributes":{
            "saml.assertion.signature":"false",
            "saml.multivalued.roles":"false",
            "saml.force.post.binding":"false",
            "saml.encrypt":"false",
            "saml.server.signature":"false",
            "saml.server.signature.keyinfo.ext":"false",
            "exclude.session.state.from.auth.response":"false",
            "saml_force_name_id_format":"false",
            "saml.client.signature":"false",
            "tls.client.certificate.bound.access.tokens":"false",
            "saml.authnstatement":"false",
            "display.on.consent.screen":"false",
            "saml.onetimeuse.condition":"false"
         },
         "authenticationFlowBindingOverrides":{

         },
         "fullScopeAllowed":true,
         "nodeReRegistrationTimeout":-1,
         "protocolMappers":[
            {
               "name":"Aud-Mapper",
               "protocol":"openid-connect",
               "protocolMapper":"oidc-audience-mapper",
               "consentRequired":false,
               "config":{
                  "included.client.audience":"cfms-TEST",
                  "id.token.claim":"false",
                  "access.token.claim":"true"
               }
            }
         ],
         "defaultClientScopes":[
            "web-origins",
            "role_list",
            "profile",
            "roles",
            "email"
         ],
         "optionalClientScopes":[
            "address",
            "phone",
            "offline_access"
         ]
      }
   ],
   "identityProviders":[
      {
         "alias":"bcsc",
         "displayName":"BC Services Card",
         "providerId":"oidc",
         "enabled":true,
         "updateProfileFirstLoginMode":"on",
         "trustEmail":false,
         "storeToken":false,
         "addReadTokenRoleOnCreate":false,
         "authenticateByDefault":false,
         "linkOnly":false,
         "firstBrokerLoginFlowAlias":"BCSC first broker login",
         "config":{
            "hideOnLoginPage":"true",
            "userInfoUrl":"https://idtest.gov.bc.ca/oauth2/userinfo",
            "validateSignature":"true",
            "clientId":"urn.ca.bc.gov.sbc.dev",
            "tokenUrl":"https://idtest.gov.bc.ca/oauth2/token",
            "uiLocales":"",
            "jwksUrl":"https://idtest.gov.bc.ca/oauth2/jwk.json",
            "backchannelSupported":"false",
            "issuer":"https://idtest.gov.bc.ca/oauth2/",
            "useJwksUrl":"true",
            "loginHint":"true",
            "authorizationUrl":"https://idtest.gov.bc.ca/login/oidc/authorize",
            "disableUserInfo":"",
            "clientSecret":"**********",
            "defaultScope":"openid profile email"
         }
      }
   ],
   "identityProviderMappers":[
      {
         "name":"name",
         "identityProviderAlias":"bcsc",
         "identityProviderMapper":"oidc-user-attribute-idp-mapper",
         "config":{
            "claim":"display_name",
            "user.attribute":"displayName"
         }
      },
      {
         "name":"online appointment role mapper",
         "identityProviderAlias":"bceid",
         "identityProviderMapper":"oidc-hardcoded-role-idp-mapper",
         "config":{
            "role":"online_appointment_user"
         }
      },
      {
         "name":"internal user role mapper",
         "identityProviderAlias":"idir",
         "identityProviderMapper":"oidc-hardcoded-role-idp-mapper",
         "config":{
            "role":"internal_user"
         }
      },
      {
         "name":"username",
         "identityProviderAlias":"bcsc",
         "identityProviderMapper":"oidc-username-idp-mapper",
         "config":{
            "template":"${CLAIM.sub}@${ALIAS}"
         }
      },
      {
         "name":"lastName",
         "identityProviderAlias":"bcsc",
         "identityProviderMapper":"oidc-user-attribute-idp-mapper",
         "config":{
            "claim":"family_name",
            "user.attribute":"lastName"
         }
      },
      {
         "name":"email",
         "identityProviderAlias":"bcsc",
         "identityProviderMapper":"oidc-user-attribute-idp-mapper",
         "config":{
            "claim":"email",
            "user.attribute":"email"
         }
      },
      {
         "name":"online appointment role mapper",
         "identityProviderAlias":"bcsc",
         "identityProviderMapper":"oidc-hardcoded-role-idp-mapper",
         "config":{
            "role":"online_appointment_user"
         }
      }
   ]
}